<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet library="css" name="default.css"/>
        <h:outputStylesheet library="css" name="index.css"/>
        <h:outputScript library="js" name="index.js"/>
        <h:outputStylesheet library="css" name="cssLayout.css"/>
        <h:outputStylesheet library="css" name="bootstrap.css"/>
        <h:outputScript library="js" name="bootstrap.min.js"/>
        <title>Facelets Template</title>
        <f:event type="preRenderView" listener="#{validateBean.verify()}"/> 
        
    </h:head>

    <h:body>


        <div id="top" >
            <ui:insert name="top">  
                <p:growl showDetail="true" showSummary="true"/>
                <h:form styleClass="form-inline">
              
                    <div class="row" style="width:100%">
                        
                        <div class="col col-sm-6" style="border-right:2px solid black;"> 
                            
                            <div class="col-lg-9"> 
                                <div class="input-group form-group">
                                    <p:inputText value="#{profilebean.query}" placeholder="search contacts" styleClass="form-control"
                                                 onfocus="PF('dlg1').show()">
                                        <p:ajax event="keyup" listener="#{profilebean.search()}" update="seachTable seachTable:link"/>  
                                    </p:inputText> 
                                         <span>
                                             <div class="input-group form-group">
                                                 <p:commandButton icon="fa fa-search" class="btn btn-outline-dark" 
                                                                  style="height:36px; color:white; text-align:center;"/>
                                             </div>
                                         </span>
                                </div>
                               
                                        
                                        
                                   
                                
                            </div><!-- /.col-lg-6 -->
                            
                            

                            <p:dialog  showHeader="false" widgetVar="dlg1" minHeight="40" position="30,40" width="30%">     
                                <hr/>       
                                <h:dataTable id="seachTable" width="100%" summary="Search results." value="#{profilebean.foundList}" var="prof" onmouseover="PF('dlg1').show()">
                                    <h:column>
                                        <div style="margin-top:5px; padding-top:5px; padding-bottom:5px;" id="divo">
                                            <p:commandLink  style="text-decoration:none; color:grey;" id="link" 
                                                            action="#{profilebean.redirect()}" value="#{prof.firstName} #{prof.lastName}" oncomplete="PF('dlg1').hide()">
                                                
                                                <f:setPropertyActionListener target="#{profilebean.prof}" value="#{prof}"/>
                                            </p:commandLink>
                                            
                                        </div>
                                    </h:column>   
                                </h:dataTable>
                                <hr/>
                            </p:dialog>
                            
                            
                            
                            
                            
                            
                            
                            
                        </div>
                        
                        
                        
                        
                        
                        
                        
                        

                        <div class="col col-md-3 menuDiv" style="padding-top:2px; border-right:2px solid black;">
                            
                             
                        <div class="btn-group">
                            <p:graphicImage library="images" name="kitty.jpg" width="35" height="35" style="border-radius:15px; margin-right:2px;"/>
                            <p:commandLink styleClass="" action="#{profilebean.home()}" value="#{userSession.user.firstName}"/>
                        </div>
                        </div>
                        
                        
                        
                        <div class="col col-md-2 menuDiv" style="padding-top:2px;"> 
                         
                            <div class="btn-group">
                             <p:commandLink   value="Home"/>
                            </div>
                        </div>
                        
                        
                        <div class="col col-sm-1" style="border-left:2px solid black;">
                             <div class="btn-group">
                             <p:commandLink action="#{validateBean.logout()}" value="Sign Out" styleClass="btn btn-outline-primary"/>      
                              </div> 
                          </div>
                        
                    </div>
                    
                   
 

                    
               
                </h:form>  
            </ui:insert>
        </div>
        
        
        
        
        <div >
            <div id="left">
                <ui:insert name="left">
                    <h:form>
                        
                        <div class="row">
                            <div class="col col-md-12">
                                <div class="picture">
                                    <p:graphicImage styleClass="imagen" library="images" name="kitty.jpg"/>
                                </div>
                            </div>
                        </div>  
                    </h:form>
                </ui:insert>
            </div>
            <div id="content" class="left_content">
                <ui:insert name="content">Content</ui:insert>
            </div>
        </div>
    </h:body>

</html>
